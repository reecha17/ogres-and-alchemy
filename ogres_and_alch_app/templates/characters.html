{% extends "base.html" %}
{% block content %}
<div class="jumbotron">
    <h2>Characters: </h2>
    <div class="container">
        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Level</th>
                <th>User</th>
                <th>Server</th>
                <th>Class</th>
                <th>Faction</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
            <tbody>
            {% for character in characters %}
                <tr>
                    <td> {{ character.characterID }} </td>
                    <td> {{ character.characterName }} </td>
                    <td> {{ character.level }} </td>
                    <td>
                        {% for user in users %}
                        {% if user.userID == character.userID %} {{user.userName}} {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        {% for server in servers %}
                        {% if server.serverID == character.serverID %} {{server.location}} {% endif %}
                        {% endfor %}
                    </td>                   
                    <td>
                        {% for class in classes %}
                        {% if class.classID == character.classID %} {{class.className}} {% endif %}
                        {% endfor %} 
                    </td>
                    <td> 
                        {% for faction in factions %}
                        {% if faction.factionID == character.factionID %} {{faction.factionName}} {% endif %}
                        {% endfor %} 
                    </td>
                    <td> <a href= "/edit_character/{{ character.characterID }}"> edit </a> </td>
                    <td> <a href= "/delete_character/{{ character.characterID }}"> delete </a> </td>
                </tr>
        
            {% endfor %}
        </table>
    </div>
</div>

<div class="jumbotron">
    <div class="container">
        <h3>Create Character:</h3>
            <div class="container"> 
                <form method="POST" action="/create_character">
                    <label for="characterName">characterName: </label> <input type="text" name="characterName" value=""> <br>
                    <label for="level"> level: </label> <input type="text" name="level" value=""> <br>
                    <label for="userID"> userID: </label> 
                        <select name="userID" id="userID"> 
                            {% for user in users %}
                                <option value= "{{ user.userID }}"> {{ user.userID }} - {{ user.userName }} </option>
                            {% endfor %}
                        </select> <br>
                    <label for="serverID"> serverID: </label> 
                        <select name="serverID" id="serverID">      
                            {% for server in servers %}
                            <option value= "{{ server.serverID }}"> {{ server.serverID }} - {{ server.location }} </option>
                            {% endfor %}
                        </select> <br>
                    <label for="classID"> classID: </label> 
                        <select name="classID" id="classID">      
                            {% for class in classes %}
                            <option value= "{{ class.classID }}"> {{ class.classID }} - {{ class.className }} </option>
                            {% endfor %}
                        </select> <br>
                    <label for="factionID"> factionID: </label> 
                        <select name="factionID" id="factionID">      
                            <option value= "NULL"> NULL </option>
                            {% for faction in factions %}
                            <option value= "{{ faction.factionID }}"> {{ faction.factionID }} - {{ faction.factionName }} </option>
                            {% endfor %}
                        </select> <br>
                    <button type="submit">Create Character</button>
                </form>
            </div>
    </div>
</div>
{% endblock %}
